/*

é’Ÿå—å±±ï¼šä¸–ä¸Šæ‰€æœ‰ç–¾ç—…éƒ½æ˜¯å‡è±¡ï¼Œè¯»å®Œé†é†çŒé¡¶

ç¯çƒæ–‡æ‘˜ç»å…¸  ä»Šå¤©

ã€Šç¯çƒæ–‡æ‘˜ç»å…¸ã€‹ç¯çƒæ–‡æ‘˜ï¼Œæ¯æ—¥ç»å…¸ï¼

æ–‡/é™å¿ƒé˜…è¯»ï¼ˆID:jxydh8ï¼‰

å¦‚æœæœ‰ä¸€ä¸ªäººè·Ÿä½ è¯´ï¼Œã€Œå¤©ä¸‹æ— ç—…ã€ï¼Œç–¾ç—…åªä¸è¿‡æ˜¯ä¸ªå‡ç›¸ï¼Œä¸æ˜¯æœ¬è´¨ã€‚ä½ ä¼šæ€ä¹ˆæƒ³ï¼Ÿ

ä½ ä¼šæœ‰å¦‚é†é†çŒé¡¶ï¼Œå¾®ç¬‘ç‚¹å¤´ï¼Œå‘ç°ç–¾ç—…åŸæ¥åªæ˜¯ä¸€ä¸ªä»£å·ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šæ¶ˆé™¤äº†å¯¹ç–¾ç—…çš„ææƒ§ï¼›è¿˜æ˜¯ä¼šè§‰å¾—è¿™ä¸ªè¯´æ³•è™šæ— ç¼¥ç¼ˆä¸æ¥åœ°æ°”ï¼Œç”šè‡³å¿ƒæƒ³ï¼šã€Œè¯´è¿™è¯ç®€ç›´æ˜¯ç«™ç€è¯´è¯ä¸è…°ç–¼ï¼Ÿã€

ä»€ä¹ˆæ˜¯ç—…ï¼Ÿç—…çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ
ä¸ºä»€ä¹ˆè¯´ç—…ååªæ˜¯ä¸€ä¸ªä»£å·ï¼Ÿ
ä»€ä¹ˆæ˜¯ç™Œï¼Ÿä¸ºä»€ä¹ˆä¼šå¾—ç™Œç—‡ï¼Ÿ
è¢«è¯Šæ–­ä¸ºç™Œç—‡çš„äººåº”è¯¥æ€ä¹ˆåšï¼Ÿ

å›¾ç‰‡

01
ç–¾ç—…æ˜¯æˆ‘ä»¬æœ€å¥½çš„æœ‹å‹ä¹‹ä¸€ã€€

å¤©ä¸‹æœ¬æ— ç—…ã€‚ä½†ç”Ÿç—…æ—¶ï¼Œæˆ‘ä»¬çš„ç—›è‹¦å®å®åœ¨åœ¨ï¼Œè¿™æ—¶å€™çœ‹ã€Œå¤©ä¸‹æ— ç—…ã€è¿™å››ä¸ªå­—ï¼Œå¤šå°‘è§‰å¾—æœ‰ç‚¹è™šæ— ç¼¥ç¼ˆã€‚

ã€Œæˆ‘ä¸æ˜¯çœ‹ä¸è§ç—‡çŠ¶ï¼Œæˆ–è€…ä¸äº†è§£ç—…äººçš„ç—›è‹¦ï¼Œè€Œæ˜¯å¼ºè°ƒä¸€ç‚¹ï¼šç–¾ç—…æ˜¯æˆ‘ä»¬æœ€å¥½çš„æœ‹å‹ä¹‹ä¸€ã€‚ç—…æ˜¯ä»¥æŸä¸€ç§æ–¹å¼æ¥æé†’ä½ ï¼Œè®©ä½ çŸ¥é“ä½ çš„ç”Ÿæ´»æ–¹å¼æˆ–è€…æ€ç»´æ¨¡å¼å‡ºé—®é¢˜äº†ã€‚

å¦‚æœä½ å› ä¸ºå—åˆ°è¿™ä½æœ‹å‹çš„å¯å‘ï¼Œè½¬èº«çœ‹åˆ°äº†è‡ªå·±çš„é—®é¢˜å¹¶æ”¹å˜å®ƒï¼Œè¿™ä¸ªç—…å°±ä½œä¸ºå®¢äººèµ°äº†ï¼Œä¸ä¼šç»§ç»­ç•™åœ¨èº«ä½“é‡Œã€‚ã€

æ„Ÿå†’ã€é«˜è¡€å‹ã€é«˜è¡€è„‚ã€å¿ƒè„ç—…â€¦â€¦æ‰€æœ‰çš„ç—…åéƒ½åªæ˜¯ä¸€ä¸ªä»£å·ï¼Œæ¯”å¦‚è¿™ä¸ªäººå«å¼ ä¸‰ï¼Œé‚£ä¸ªäººå«æå››ã€‚æˆ‘ä»¬å¾ˆå®¹æ˜“è¢«ä»£å·å›°ä½ï¼Œå¿˜è®°å»çœ‹å®ƒèƒŒåçš„å®ç›¸ã€‚

æ¯”å¦‚ä½ å—äº†é£å¯’ï¼Œè¿™æ—¶å€™æ˜¯ç—…è¿™ä½æœ‹å‹ç”¨å’³å—½æˆ–è€…æµé¼»æ¶•çš„å½¢å¼æ¥æé†’ä½ å—äº†å¯’ï¼Œè®©ä½ çŸ¥é“è¯¥é‡‡å–ä¸€äº›æ‰‹æ®µæŠŠå¯’æ°”é©±èµ¶å‡ºå»ï¼›

å½“ä½ åƒäº†ä¸€äº›ä¸æ–°é²œæˆ–è€…ä¸å«ç”Ÿçš„é£Ÿç‰©ï¼Œè¿™ä½æœ‹å‹å°±ä»¥æ‹‰è‚šå­çš„å½¢å¼æé†’ä½ ï¼›

å½“ä½ é•¿æœŸç¡çœ ä¸è¶³ï¼Œå®ƒå°±ä»¥çœ¼ç›å‘çº¢ã€è„¾æ°”æš´èºæ¥æé†’ä½ ï¼ŒæŠŠé—®é¢˜çš„å­˜åœ¨è¡¨è¾¾ç»™ä½ ã€‚

å¦‚æœæ²¡æœ‰ç–¾ç—…çš„æé†’ï¼Œæˆ‘ä»¬ä¹Ÿè®¸å°±å¯¹èº«ä½“çš„å„ç§è¶…è´Ÿè·å’Œä¸å¹³è¡¡æ— çŸ¥æ— è§‰ï¼Œä¸€ç›´éšæ³¢é€æµè®©ç”Ÿæ´»è…åŒ–ä¸‹å»ã€‚

ã€Œç—…ä¸æ˜¯æ•Œäººï¼Œæ˜¯å–„æ„çš„æé†’ã€‚ã€
æˆ‘ä»¬åº”è¯¥æ„Ÿè°¢ç–¾ç—…ï¼Œ
è€Œä¸æ˜¯ç—›æ¨å®ƒã€‚

æœ‰çš„äººï¼Œå› ä¸ºä»å°èº«ä½“ä¸å¥½ï¼Œæ‰å»å­¦ä¹ äº†å¤ªææ‹³ï¼Œåæ¥æˆä¸ºå¤ªææ‹³é«˜æ‰‹ï¼Œèº«å¿ƒçš„çŠ¶æ€éƒ½è·å¾—æå‡ã€‚å¯¹äºä»–æ¥è¯´ï¼Œèº«ä½“ä¸å¥½è¿™ä»¶äº‹åè€Œæˆäº†ä»–äººç”Ÿä¸­çš„åŠ©åŠ›å’Œå–„ç¼˜ã€‚

æœ‰çš„äººæ¯å¤©æ™šä¸Šå‡ºå»å”±æ­Œï¼Œå–é…’ï¼Œå‚åŠ å„ç§èšä¼šã€é¥­å±€ï¼Œç„¶åæ¥æ‰¾åŒ»ç”Ÿçœ‹ç—…ï¼Œè¯´ã€Œæˆ‘å¤±çœ äº†ï¼Œç»™æˆ‘å¼€ç‚¹è¯è°ƒç†å§ã€‚ã€

è¡¨é¢çœ‹æ¥ï¼Œä»–åœ¨ç§¯æåœ°æ±‚åŒ»é—®è¯ã€è§£å†³é—®é¢˜ï¼Œä½†å…¶å®ï¼Œä¸è®ºæ˜¯æ±‚åŠ©äºä¸­åŒ»è¿˜æ˜¯è¥¿åŒ»ï¼Œéƒ½æ˜¯æ²»æ ‡ä¸æ²»æœ¬ã€‚

å› ä¸ºä»–çš„æ½œå°è¯æ˜¯ï¼šã€Œä½ æ¥å¸®æˆ‘æå®šå¤±çœ è¿™ä¸ªé—®é¢˜å§ï¼Œæå®šäº†æˆ‘æ‰èƒ½ç»§ç»­æœ‰ç²¾ç¥å‚åŠ partyå•Šã€‚ã€ä»–ä¸æ¯«æ²¡æœ‰åæ€è‡ªå·±çš„ç”Ÿæ´»æ–¹å¼å‡ºäº†é—®é¢˜ï¼Œä¹Ÿæ²¡æœ‰æ”¹å˜è‡ªå·±ç”Ÿæ´»æ–¹å¼çš„æ„¿æœ›ã€‚

è¿™ç§æƒ…å†µä¸‹ï¼ŒåŒ»ç”Ÿå³ä½¿æœ‰å¿ƒä¹Ÿæ— åŠ›ï¼Œå­¤æŒéš¾é¸£ã€‚åªæœ‰ç—…äººå¼€å§‹åæ€è‡ªå·±çš„åå·®ï¼Œå†åŠ ä¸ŠåŒ»ç”Ÿçš„å¸®åŠ©ï¼ŒåŒ»ç”Ÿå’Œç—…äººå®Œç¾åœ°é…åˆï¼Œæ‰ä¼šè®©ä¸€äº›ç°è±¡å‘ç”Ÿæ”¹å˜ã€‚è¿™æ‰æ˜¯ç–¾ç—…ä½œä¸ºä¸€ä¸ªä¿¡ä½¿å­˜åœ¨çš„æ„ä¹‰ã€‚

02
æœ‰æ—¶ï¼Œä½ ä¸éœ€è¦åŒ»ç”Ÿ

æœ‰ä¸ªäººå»çœ‹ç—…ï¼Œè¯´ä»–çœ¼ç›å‘èƒ€ã€è§†åŠ›æ¨¡ç³Šï¼Œå·²ç»ä¸€å‘¨äº†ã€‚åŒ»ç”Ÿé—®ä»–ï¼Œæ˜¯ä¸æ˜¯è¿™ä¸€å‘¨ç”¨ç”µè„‘ã€æ‰‹æœºå¤ªå¤šäº†ï¼Ÿ

ä»–æ‰å‘ç°ï¼Œæœ€è¿‘ä¸€å‘¨ç¡®å®ç”¨çœ¼è¿‡åº¦äº†ã€‚è¿™æ—¶å€™ä»–æ ¹æœ¬ä¸éœ€è¦æ‰¾åŒ»ç”Ÿï¼Œå°½é‡ä¸ç”¨ç”µè„‘ã€æ‰‹æœºï¼Œä¼‘æ¯ä¸€ä¸¤å¤©å°±èƒ½æ¢å¤äº†ã€‚è€Œä¸æ˜¯å»æ‰¾åŒ»ç”Ÿæ²»ç–—ï¼Œæ²»å¥½ä¹‹åç»§ç»­ä¸çŸ¥ç–²å€¦åœ°çœ‹æ‰‹æœºã€ç©æ¸¸æˆã€‚

æœ‰ä¸ªç—…äººæœ€è¿‘ä¸€å‘¨å·¥ä½œå‹åŠ›ç‰¹åˆ«å¤§ï¼Œæ™šä¸Šåº”é…¬ä¹Ÿå¤šï¼Œç»å¸¸å–é…’ï¼Œè¡€å‹å¾ˆå¿«å‡é«˜ã€‚

è¿™ç§æƒ…å†µï¼Œå…¶å®ä¹Ÿä¸éœ€è¦æ²»ç–—ï¼Œä»–çš„è¡€å‹å‡é«˜æ˜¯å› ä¸ºä»–èº«ä½“çš„é¢‘ç‡ä¸ä»–æœ€è¿‘çš„ç”Ÿæ´»èŠ‚å¥ä¸å’Œè°ä¸å¹³è¡¡ã€‚

åªè¦æ”¹å˜è¿™ç§ç”Ÿæ´»æ–¹å¼ï¼Œ
æ”¹å˜è¿™ç§ä¸å’Œè°ï¼Œ
è¡€å‹å°±ä¼šé™ä¸‹æ¥ï¼Œ
ä¸å¿…æ‰¾åŒ»ç”Ÿçš„ã€‚

ã€Œå¤§å¤šæ•°é«˜è¡€å‹æˆ–è€…é«˜è¡€ç³–ä¹‹ç±»çš„ç—…ï¼Œéƒ½æ˜¯ç”Ÿæ´»æ–¹å¼æ–¹é¢çš„ç—…ã€‚æ”¹å˜ç”Ÿæ´»æ–¹å¼ä¹‹åï¼Œè¿™äº›é—®é¢˜éƒ½å¯ä»¥æ…¢æ…¢æ¶ˆå¤±ã€‚ã€

å¦‚åŒå¤§è‡ªç„¶æœ‰é£éœœé›¨é›ªï¼Œäººçš„èº«ä½“æœ‰ç–¾ç—…ä¹Ÿæ˜¯è‡ªç„¶ç°è±¡ï¼Œæ— éœ€ææƒ§ã€‚

ã€Œç—…éƒ½åªæ˜¯ä¸€ç§ç°è±¡ï¼Œä¸€å®šä¸è¦ææƒ§è¿™äº›ç°è±¡ï¼Œæˆ‘ä»¬å¯ä»¥é€è¿‡ç°è±¡å»æ‰¾èƒŒåçš„æœ¬è´¨ï¼š

åˆ°åº•æ˜¯ä»€ä¹ˆå¯¼è‡´è¿™ä¸ªç°è±¡ã€è¿™ä¸ªé—®é¢˜å‡ºç°äº†ï¼Ÿæ€ä¹ˆå»æ”¹å˜å®ƒï¼ŸåŒ»ç”Ÿæ˜¯ä¸€ä¸ªåŠ©æ‰‹ï¼Œä¸æ˜¯ä¸€ä¸ªå†³å®šè€…ã€‚

æœ€å¤§çš„åŒ»ç”Ÿæ˜¯è‡ªå·±çš„èº«ä½“ï¼Œå¦‚æœèº«ä½“å·²ç»æ²¡æœ‰äº†ä¿®å¤èƒ½åŠ›ï¼ŒåŒ»ç”Ÿæ˜¯æ— èƒ½ä¸ºåŠ›çš„ã€‚ã€

ç–¾ç—…ç»å¯¹ä¸æ˜¯åäº‹ã€‚æˆ‘ä»¬ä¼šé…¸ç—›ï¼Œä¼šå¤±çœ â€¦â€¦éƒ½æ˜¯ä¸åŒçš„ç—‡çŠ¶ï¼Œæœ‰ç€ä¸åŒçš„åŸå› ã€‚æˆ‘ä»¬å»æ‰¾åˆ°è¿™ä¸ªåŸå› ï¼Œæ¯”ç›´æ¥å»æ¶ˆé™¤è¿™ä¸ªç—‡çŠ¶ï¼Œè¦é‡è¦å¾—å¤šã€‚

å¸Œæœ›å¤§å®¶ä¸è¦æŠŠæ‰€æœ‰æ²»ç—…çš„è´£ä»»éƒ½æ¨ç»™åŒ»ç”Ÿï¼Œè€Œæ˜¯è·ŸåŒ»ç”Ÿä¸€èµ·å•†é‡ï¼Œæ€ä¹ˆæ‰¾åˆ°é—®é¢˜çš„æ ¹æºï¼Œæ€ä¹ˆæ”¹å˜è‡ªå·±ä¸è‰¯çš„å¿ƒæ™ºæ¨¡å¼å’Œç”Ÿæ´»æ–¹å¼ã€‚

Aå¿ƒæ™ºæ¨¡å¼
åœ¨æˆ‘çš„ç†å¿µé‡Œï¼Œä¸­åŒ»é¦–å…ˆæ˜¯ä¸€ä¸ªå¿ƒæ™ºæ¨¡å¼ï¼Œå°±æ˜¯ä½ æ€ä¹ˆçœ‹å¾…è¿™ä¸ªå®‡å®™ï¼Œè¿™ä¸ªä¸–ç•Œï¼Œæ€ä¹ˆçœ‹å¾…äººç”Ÿã€‚å½“ä½ çš„å¿ƒæ™ºæ¨¡å¼æ”¹å˜ï¼Œå¿ƒæ€å°±å‘ç”Ÿå¾ˆå¤§çš„æ”¹å˜ï¼Œå¾ˆå¤šç²¾ç¥ã€æ€æƒ³æ–¹é¢çš„ç—…å°±ä¸è§äº†ã€‚

Bç”Ÿæ´»æ–¹å¼
ç¬¬äºŒæ˜¯ç”Ÿæ´»æ–¹å¼ï¼Œå¤§éƒ¨åˆ†å½¢ä½“æ–¹é¢çš„ç—…éƒ½æ˜¯ä¸è‰¯çš„ç”Ÿæ´»æ–¹å¼é€ æˆçš„ã€‚

CåŒ»ç–—æ¨¡å¼
ç¬¬ä¸‰ä¸ªæ˜¯åŒ»ç–—æ¨¡å¼ï¼Œå±äºæ‰¶åæ•‘å¼Šï¼Œäº¡ç¾Šè¡¥ç‰¢ï¼Œæ˜¯ä¸ºäº†è¡¥å……å‰ä¸¤è€…çš„ä¸è¶³è€Œå­˜åœ¨çš„ã€‚å¦‚æœæœ‰è‰¯å¥½çš„å¿ƒæ™ºæ¨¡å¼å’Œç”Ÿæ´»æ–¹å¼ä½œä¸ºåŸºç¡€ï¼ŒåŒ»ç–—æ¨¡å¼å°±å˜å¾—å¾ˆè½»æ¾ã€‚

ä½†ç°åœ¨åŒ»ç–—æ¨¡å¼è¢«è¿‡äºå¼ºè°ƒï¼Œæˆ‘ä»¬å¯¹äºåŒ»ç”Ÿå’ŒåŒ»é™¢è¿‡äºä¾èµ–ï¼Œè¿™æ˜¯éå¸¸ä¸æ­£å¸¸ã€ä¸å¥åº·çš„ã€‚ç°åœ¨å¾ˆå¤šç—…éƒ½æ˜¯è¶Šæ²»è¶Šå¤šï¼Œæ¯”å¦‚é«˜è¡€å‹ã€å¿ƒè„ç—…ã€ç³–å°¿ç—…ï¼Œç°åœ¨çš„ç—…äººæ¯”åå¹´å‰å¤šäº†å¤šå°‘å€ã€‚

è¶Šæ²»è¶Šå¤šï¼Œä¸€æ–¹é¢æ˜¯ç¯å¢ƒå› ç´ ã€ç”Ÿæ´»æ–¹å¼çš„é—®é¢˜ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿè¯´æ˜åŒ»ç–—æ¨¡å¼å‡ºäº†é—®é¢˜ã€‚

å›¾ç‰‡

03
ä»€ä¹ˆå«åšå…»ç”Ÿï¼Ÿ

å°±æ˜¯è®©èº«ä½“å¤„äºå’Œè°å¹³è¡¡çš„çŠ¶æ€ï¼Œè‡³äºå…·ä½“çš„æ–¹æ³•ï¼Œå› äººã€å› æ—¶ã€å› åœ°è€Œå¼‚ï¼Œæ²¡æœ‰ä¸€å¥—æ–¹æ³•æ˜¯é€‚åˆæ‰€æœ‰äººçš„ã€‚æ¯ä¸ªäººçš„éœ€æ±‚ä¸ä¸€æ ·ã€‚

ä¸åŒçš„äººï¼Œæ ¹æ®ä¸åŒçš„å­£èŠ‚ã€æ—¶è¾°ï¼Œæ ¹æ®å—åŒ—ä¸åŒçš„åœ°åŸŸï¼Œå°½é‡ä¸è‡ªç„¶ç¯å¢ƒå’Œç”Ÿæ´»ç¯å¢ƒç›¸å’Œè°åœ°ç”Ÿæ´»ï¼Œé‚£æ ·å°±å¾ˆå¥½äº†ã€‚

ã€Œäººæœ€ç»ˆæ˜¯é è‡ªå·±çš„ç”Ÿæœºå’Œæ´»åŠ›ç”Ÿæ´»åœ¨å®‡å®™å¤§ç©ºé—´ä¹‹ä¸­ã€‚ã€

åŒ»ç”Ÿçš„ä½œç”¨ï¼Œå…¶å®çŠ¹å¦‚é©±æ•£é˜´å½±çš„é˜³å…‰ï¼Œç²¾ç¥ä¸Šå¼•å¯¼æ‚£è€…å¾€æœ€é˜³å…‰ã€æœ€æ¸©æš–ã€æœ€èƒ½å®‰å¿ƒçš„çŠ¶æ€èµ°ï¼Œå½¢ä½“ä¸Šå¼•å¯¼ä»–æ°”è¡€çš„è¿è¡Œã€è‚¢ä½“çš„ä½ç½®å›åˆ°å’Œè°çŠ¶æ€ï¼Œå¸®åŠ©æ‚£è€…æ¢å¤è‡ªæ„ˆçš„æœ¬èƒ½ã€‚

åœ¨ä¸€ä¸ªçœŸæ­£çš„ä¸­åŒ»çœ¼é‡Œï¼Œæ²¡æœ‰ã€Œç—…ã€è¿™ä¸ªæ¦‚å¿µï¼Œæœ‰çš„åªæ˜¯æ¯ä¸ªäººèº«ä½“å†…éƒ¨å­˜åœ¨çš„å„ç§ä¸å’Œè°æˆ–è€…ä¸å¹³è¡¡ï¼ŒåŒ»ç”Ÿå’Œæ‚£è€…çš„åŠªåŠ›æ–¹å‘æ˜¯å»è°ƒæ•´è¿™äº›ä¸å’Œè°å’Œä¸å¹³è¡¡ã€‚

çœŸæ­£æŠŠç—…æ²»å¥½çš„ï¼Œä¸æ˜¯å¯¹é¢åç€çš„é‚£ä½è€ä¸­åŒ»ï¼Œä¸æ˜¯ä»–ç”¨çš„é‚£æ ¹é’ˆï¼Œä¸æ˜¯ä»–çš„æŒ‰æ‘©æ‰‹æ³•ï¼Œä¸æ˜¯æˆ‘ä»¬å–ä¸‹çš„é‚£ç¢—æ±¤è¯ï¼Œè€Œæ˜¯æˆ‘ä»¬è‡ªå·±ã€‚

å„ç§å¤–æ²»æ‰‹æ³•ä¹Ÿå¥½ï¼Œå„ç§ä¸­è¯æ±¤å‰‚ä¹Ÿå¥½ï¼Œæœ¬è´¨ä¸Šï¼Œå…¶å®æ˜¯ä¸€ç§æ¿€å‘æœºåˆ¶ï¼Œæ˜¯å®ƒæ¿€å‘äº†äººä½“æ°”æœºçš„è¿è¡Œï¼Œè®©èº«ä½“è‡ªæˆ‘å®Œæˆæ²»æ„ˆä¿®å¤çš„è¿‡ç¨‹ã€‚

äººä½“æœ‰å¾ˆå¼ºçš„è‡ªæˆ‘ä¿®å¤èƒ½åŠ›ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªèƒ½åŠ›ï¼Œæ‰€æœ‰çš„åŒ»ç”Ÿéƒ½èµ·ä¸åˆ°æ²»ç–—çš„ä½œç”¨ã€‚


è¯ç‹å­™æ€é‚ˆç»™æ‰€æœ‰äººçœ‹ç—…ï¼Œé¦–å…ˆä¸æ˜¯å¼€è¯ï¼Œè€Œæ˜¯çœ‹ç—…äººè¿™ä¸€é˜¶æ®µçš„ç”Ÿå‘½çŠ¶æ€ï¼Œæ˜¯æ„æ°”é£å‘è¿˜æ˜¯å¤±é­‚è½é­„ï¼Œæ ¹æ®ä¸åŒçš„çŠ¶æ€è¿›è¡Œå¤„ç†ï¼›

ç„¶åå†é—®ç—…äººçš„é¥®é£Ÿèµ·å±…ï¼Œå„ç§åƒå–æ‹‰æ’’ç¡ï¼Œçœ‹çœ‹ç—…äººæœ‰å“ªäº›ä¸è‰¯ç”Ÿæ´»ä¹ æƒ¯ï¼Œå¼•å¯¼ä»–å»å»ºç«‹å¥åº·çš„èŠ‚å¥å’Œä¹ æƒ¯ï¼›

å¦‚æœè¿™ä¸¤æ‹›è¿˜æ²¡æå®šï¼Œä»–å°±ç»™ç—…äººä¸€äº›é£Ÿç–—çš„æ–¹æ³•ï¼Œå†ä¸è¡Œå°±åšæŒ‰æ‘©å¯¼å¼•ï¼Œå†ä¸è¡Œå°±æ‰é’ˆï¼Œæœ€åæ‰ç”¨æ±¤å‰‚ã€‚åƒè¯æ˜¯æœ€åæ‰ä½¿ç”¨çš„æ‰‹æ®µã€‚

ç–¾ç—…æ˜¯ä¸€ä¸ªç°è±¡ï¼Œè¿™ä¸ªç°è±¡ä¸æ˜¯å•ä¸€æ¡ä»¶ï¼Œè€Œæ˜¯å¤šç§æ¡ä»¶ä¸‹äº§ç”Ÿçš„ã€‚åŒ»ç”Ÿæ²»ç—…ï¼Œå…¶å®å°±æ˜¯æƒ³åŠæ³•å¢åŠ æ¡ä»¶æˆ–è€…å‡å°‘æ¡ä»¶ï¼Œé‚£ä¸ªç°è±¡å°±æ”¹å˜äº†ã€‚

å›¾ç‰‡

04
ä¸ææƒ§æ˜¯éå¸¸é‡è¦çš„å¿ƒæ³•

ä¸€ä¸ªäººæ€»æ˜¯è¢«ä»–çš„å†…å¿ƒæ‰“è´¥ï¼Œè€Œä¸æ˜¯å¤–ç•Œç»™ä»–å¤šå°‘ä¼¤å®³ã€‚

å¾ˆå¤šç™Œç—‡ç—…äººçš„ç—…æƒ…æ¶åŒ–ï¼Œæ˜¯ä»ä»–å¾—çŸ¥è‡ªå·±æ‚£ç™Œä¹‹åã€‚

å…¶å®ï¼Œè‚¿ç˜¤ä»æ½œä¼æœŸåˆ°è½¬å½’æœŸæœ‰æ— æ•°ç§å¯èƒ½ï¼Œä½†æœ‰çš„åŒ»ç”Ÿå–œæ¬¢å¼ºè°ƒæœ€ä¸å¥½çš„ç»“æœï¼Œæ‚£è€…å¬åˆ°ä¹‹åï¼Œä»–çš„å¿µå¤´å’Œæ€ç»´å°±è¢«è¿™ä¸ªæœ€åçš„å¯èƒ½æ€§ç´§ç´§æŠ“ä½ï¼Œå¤©å¤©åœ¨ææƒ§ä¹‹ä¸­ï¼Œæœ‰æ—¶å€™ï¼Œæˆäº†å¿ƒç†å­¦æ‰€è¯´çš„æ‰€è°“ã€Œè‡ªæˆ‘å®ç°çš„é¢„è¨€ã€ã€‚

å½“ä½ ç›¸ä¿¡äº‹æƒ…ä¼šå¦‚ä½ é¢„æ–™çš„æƒ…å†µå‘å±•ï¼Œä½ ä¼šæœ‰æ„æ— æ„åœ°é‡‡å–åŠ å¼ºçš„æªæ–½ï¼Œæœ€åæ­£æ˜¯ä½ è‡ªå·±ä¿ƒä½¿äº†è¿™ä¸ªé¢„è¨€çš„å®ç°ã€‚


æ‰“ä¸ªæ¯”å–»ï¼šè‚¿ç˜¤ï¼Œå…¶å®ç›¸å½“äºæˆ¿é—´é‡Œçš„åƒåœ¾æ¡¶ã€‚æ¯ä¸ªæˆ¿é—´éƒ½æœ‰åƒåœ¾æ¡¶ï¼Œæš‚æ—¶å‚¨å­˜åƒåœ¾ã€‚å¦‚æœä¸€ä¸ªæˆ¿é—´å¾ˆå¹²å‡€ï¼Œé‚£æ˜¯å› ä¸ºæœ‰äººæ¸…æ´è¿‡ã€ç®¡ç†è¿‡ï¼Œåƒåœ¾æ¡¶è¢«åŠæ—¶æ¸…ç©ºäº†ã€‚

è‚¿ç˜¤ï¼Œå°±æ˜¯èº«ä½“ä¸ºäº†ä¿æŒæ•´æ´è€Œè®¾ç½®çš„åƒåœ¾æ¡¶ã€‚å¥åº·äººçš„èº«ä½“æ­£æ°”å¾ˆè¶³ï¼Œèƒ½æŠŠä½“å†…çš„åƒåœ¾åŠæ—¶æ¸…ç†ã€‚ä½†æ˜¯ï¼Œå½“æ­£æ°”ä¸è¶³çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±æ²¡æœ‰è¶³å¤Ÿçš„èƒ½åŠ›æŠŠåƒåœ¾æ¸…é™¤åˆ°ä½“å¤–ï¼Œèº«ä½“å°±ä¼šè‡ªå‘åœ°æŠŠåƒåœ¾æš‚å­˜åˆ°è‚¿ç˜¤è¿™ä¸ªåƒåœ¾æ¡¶é‡Œé¢ï¼Œä»¥å…åƒåœ¾è¿›å…¥è¡€æ¶²ã€‚

æ‰€ä»¥ï¼Œé¢å¯¹è‚¿ç˜¤ï¼Œåˆ‡é™¤è‚¯å®šä¸æ˜¯æœ€å¥½çš„æ€åº¦ã€‚è°ä¼šè®¤ä¸ºä¸€ä¸ªæˆ¿é—´é‡Œåƒåœ¾å¤ªå¤šäº†ï¼Œæœ€å¥½çš„æ–¹æ³•æ˜¯æ‰”æ‰åƒåœ¾æ¡¶å‘¢ï¼Ÿç»å¸¸æœ‰ç—…äººåˆ‡é™¤è‚¿ç˜¤ä¹‹åå‘ç°æ‰©æ•£äº†ï¼Œå…¶å®è¿™æ˜¯å› ä¸ºä½ æŠŠåƒåœ¾æ¡¶æ‰”äº†ï¼Œå½“ç„¶æˆ¿é—´é‡Œå°±ä¼šåˆ°å¤„æ˜¯åƒåœ¾ã€‚

å›¾ç‰‡

05
å¦‚æœå‘ç°æœ‰è‚¿ç˜¤åº”è¯¥æ€ä¹ˆåŠã€€

é¦–å…ˆä¸è¦æ€•ï¼Œä¸è¦æ…Œï¼Œé—®é—®è‡ªå·±ï¼š

æˆ‘æœ‰ä»€ä¹ˆæƒ³ä¸å¼€çš„ç»“åœ¨èº«ä½“é‡Œç•™ä¸‹äº†å°è®°ï¼Ÿ
æˆ‘æœ‰ä»€ä¹ˆæ²¡æœ‰å®£æ³„çš„æƒ…ç»ªè¢«å‹åœ¨å¿ƒé‡Œï¼Ÿ
æˆ‘æœ‰æ²¡æœ‰ä¸è‰¯çš„ç”Ÿæ´»ä¹ æƒ¯ï¼Ÿ

å…ˆæŠŠå¿ƒç»“è§£å¼€ã€‚ç®¡ç†è‚¿å—çš„æ˜¯é˜³æ°”ï¼Œè§£å¼€å¿ƒç»“ï¼ŒèŠ‚çº¦äº†é˜³æ°”ï¼Œèº«ä½“å°±æœ‰åŠ›é‡å»ç¼©å°è‚¿å—äº†ã€‚

ä¸ææƒ§æ˜¯éå¸¸é‡è¦çš„å¿ƒæ³•ï¼Œç›¸ä¿¡ç™Œç—‡æ˜¯è‡ªå·±çš„æœ‹å‹ï¼Œè‚¿ç˜¤çš„å‡ºç°æ˜¯åœ¨æé†’è‡ªå·±åè§‚è‡ªæˆ‘ï¼Œçœ‹çœ‹è‡ªå·±å‡ºäº†ä»€ä¹ˆé—®é¢˜è¿˜ä¸è‡ªçŸ¥ã€‚

è‚¿ç˜¤çš„æœ¬è´¨ï¼Œä¸è¿‡æ˜¯ä¸€ä¸ªåƒåœ¾æ¡¶ï¼Œæ²¡ä»€ä¹ˆå¯æ€•ï¼Œå®ƒæ˜¯èº«ä½“è‡ªæˆ‘ä¿æŠ¤çš„äº§ç‰©,ä¸è¦ç”¨æ¿€è¿›çš„ã€å¯¹æŠ—çš„æ–¹å¼æ¥å¯¹å¾…è‚¿ç˜¤ã€‚

å¾ˆå¤šæ—¶å€™ï¼Œä¸ç”¨è‚¿ç˜¤ã€ç™Œç—‡è¿™äº›å­—çœ¼ï¼Œæ¢ä¸€ä¸ªè¯ï¼Œå«å®ƒã€Œè‚¿å—ã€ã€‚è¿˜æ˜¯æŒ‡çš„åŒä¸€ä¸ªä¸œè¥¿ï¼Œä½†æ˜¯ç”¨è‚¿å—è¿™ä¸ªè¯ï¼Œè´Ÿé¢çš„å¿ƒç†æš—ç¤ºå°±æ²¡æœ‰é‚£ä¹ˆå¼ºäº†ï¼Œç—…äººä¹Ÿå°±æ²¡æœ‰é‚£ä¹ˆå¤šææƒ§ã€‚

ã€Œæåˆ™æ°”ä¸‹ã€ï¼Œæœ¬æ¥æ­£æ°”å°±å¼±ï¼Œææ…Œä¼šè¿›ä¸€æ­¥é™ä½å…ç–«åŠ›ã€‚äººåœ¨ææƒ§ä¹‹ä¸­ï¼Œæ•´ä¸ªäººæ˜¯çº ç»“ã€ç´§å¼ çš„ã€‚

ä¸€å®šè¦è®°ä½ï¼Œç°ä»£åŒ»å­¦ç»å¸¸å¼ºè°ƒçš„æœ€åçš„ç»“æœï¼Œåªæ˜¯æ— æ•°ç§å¯èƒ½ä¹‹ä¸€ã€‚ç”Ÿæ´»æ–¹å¼æ–¹é¢ï¼Œä¸‹é¢è¿˜æœ‰ä¸‰ä¸ªéå¸¸å…·ä½“çš„å»ºè®®ï¼š

Aç¦»å¼€ç†Ÿæ‚‰çš„äººç¾¤
å‘¨å›´çš„äººä¸æ–­åœ°å˜˜å¯’é—®æš–ï¼Œæœ‰æ—¶å€™ä¼šç»™äººæ¸©æš–çš„èƒ½é‡ï¼Œæœ‰æ—¶å€™å´ç»™äººå¢åŠ äº†å‹åŠ›ã€‚å¯¹äºä¸€ä¸ªè‚¿ç˜¤æ‚£è€…ï¼Œäº²å‹ä»¬çš„è¿‡åº¦å…³å¿ƒä¼šæ—¶å¸¸æé†’ä»–è‡ªå·±æ˜¯ä¸ªé‡ç—…äººï¼Œåè€Œå¼ºåŒ–äº†å¿ƒç†é˜´å½±å’Œè´Ÿèƒ½é‡ã€‚

Bæ”¹å˜èŠ‚å¥ï¼Œæ”¹å˜åŠ¨é™é˜´é˜³
åŸæ¥å¿™å¿™ç¢Œç¢Œã€å››å¤„å¥”æ³¢çš„ï¼Œå­¦ä¸€å­¦æ‰“åã€ç«™æ¡©ï¼Œè®©è‡ªå·±é™ä¸‹æ¥ï¼›åŸæ¥ç‰¹åˆ«å®…ï¼Œä¸çˆ±å‡ºé—¨ä¸çˆ±æ´»åŠ¨çš„ï¼Œå¤šå‡ºå»æ—…è¡Œï¼Œæ¥è§¦ä¸åŒçš„å±±æ°´é£æ™¯ã€ä¸åŒçš„äººï¼ŒæŠŠè§†é‡æ‰“å¼€ã€‚

Cè°ƒæ•´ä½œæ¯æ—¶é—´ï¼Œè°ƒæ•´é¥®é£Ÿ
ä¸ç†¬å¤œï¼Œå¤šåƒç´ ï¼Œè®©èº«ä½“å†…éƒ¨èŠ‚å¾‹æ­£å¸¸ã€æœ‰åºã€‚



ç­¾åˆ°é¢†ç°é‡‘ï¼Œæ¯æ—¥2æ¯›ï½5æ¯›
å¯äº’åŠ©ï¼ŒåŠ©åŠ›ç æ¯æ—¥ä¸å˜ï¼Œåªå˜æ—¥æœŸ
æ´»åŠ¨å…¥å£ï¼šäº¬ä¸œAPPæœç´¢é¢†ç°é‡‘è¿›å…¥
*/
const $ = new Env('ç­¾åˆ°é¢†ç°é‡‘');
const notify = $.isNode() ? require('./sendNotify') : '';
//Node.jsç”¨æˆ·è¯·åœ¨jdCookie.jså¤„å¡«å†™äº¬ä¸œck;
const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';
let jdNotify = true;//æ˜¯å¦å…³é—­é€šçŸ¥ï¼Œfalseæ‰“å¼€é€šçŸ¥æ¨é€ï¼Œtrueå…³é—­é€šçŸ¥æ¨é€
//IOSç­‰ç”¨æˆ·ç›´æ¥ç”¨NobyDaçš„jd cookie
let cookiesArr = [], cookie = '', message;
let helpAuthor = true;
const randomCount = $.isNode() ? 20 : 5;
const inviteCodes = [
  `fUl9M7LlLKN4pg@-rmYukAfv3aJ`,
  `fUl9M7LlLKN4pg@-rmYukAfv3aJ`
]
if ($.isNode()) {
  Object.keys(jdCookieNode).forEach((item) => {
    cookiesArr.push(jdCookieNode[item])
  })
  if (process.env.JD_DEBUG && process.env.JD_DEBUG === 'false') console.log = () => {};
} else {
  let cookiesData = $.getdata('CookiesJD') || "[]";
  cookiesData = jsonParse(cookiesData);
  cookiesArr = cookiesData.map(item => item.cookie);
  cookiesArr.reverse();
  cookiesArr.push(...[$.getdata('CookieJD2'), $.getdata('CookieJD')]);
  cookiesArr.reverse();
  cookiesArr = cookiesArr.filter(item => item !== "" && item !== null && item !== undefined);
}
const JD_API_HOST = 'https://api.m.jd.com/client.action';
!(async () => {
  if (!cookiesArr[0]) {
    $.msg($.name, 'ã€æç¤ºã€‘è¯·å…ˆè·å–äº¬ä¸œè´¦å·ä¸€cookie\nç›´æ¥ä½¿ç”¨NobyDaçš„äº¬ä¸œç­¾åˆ°è·å–', 'https://bean.m.jd.com/bean/signIndex.action', {"open-url": "https://bean.m.jd.com/bean/signIndex.action"});
    return;
  }
  await requireConfig()
  await getAuthorShareCode();
  for (let i = 0; i < cookiesArr.length; i++) {
    if (cookiesArr[i]) {
      cookie = cookiesArr[i];
      $.UserName = decodeURIComponent(cookie.match(/pt_pin=(.+?);/) && cookie.match(/pt_pin=(.+?);/)[1])
      $.index = i + 1;
      $.isLogin = true;
      $.nickName = '';
      message = '';
      await TotalBean();
      console.log(`\n******å¼€å§‹ã€äº¬ä¸œè´¦å·${$.index}ã€‘${$.nickName || $.UserName}*********\n`);
      if (!$.isLogin) {
        $.msg($.name, `ã€æç¤ºã€‘cookieå·²å¤±æ•ˆ`, `äº¬ä¸œè´¦å·${$.index} ${$.nickName || $.UserName}\nè¯·é‡æ–°ç™»å½•è·å–\nhttps://bean.m.jd.com/bean/signIndex.action`, {"open-url": "https://bean.m.jd.com/bean/signIndex.action"});

        if ($.isNode()) {
          await notify.sendNotify(`${$.name}cookieå·²å¤±æ•ˆ - ${$.UserName}`, `äº¬ä¸œè´¦å·${$.index} ${$.UserName}\nè¯·é‡æ–°ç™»å½•è·å–cookie`);
        }
        continue
      }
      await jdCash()
    }
  }
})()
    .catch((e) => {
      $.log('', `âŒ ${$.name}, å¤±è´¥! åŸå› : ${e}!`, '')
    })
    .finally(() => {
      $.done();
    })
async function jdCash() {
  await index()
  await shareCodesFormat()
  await helpFriends()
  await index(true)
  await getReward()
  await showMsg()
}
function index(info=false) {
  return new Promise((resolve) => {
    $.get(taskUrl("cash_mob_home",), async (err, resp, data) => {
      try {
        if (err) {
          console.log(`${JSON.stringify(err)}`)
          console.log(`${$.name} APIè¯·æ±‚å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘è·¯é‡è¯•`)
        } else {
          if (safeGet(data)) {
            data = JSON.parse(data);
            if(data.code===0 && data.data.result){
              if(info){
                message += `å½“å‰ç°é‡‘ï¼š${data.data.result.signMoney}`
                return
              }
              console.log(`æ‚¨çš„åŠ©åŠ›ç ä¸º${data.data.result.inviteCode}`)
              let helpInfo = {
                'inviteCode': data.data.result.inviteCode,
                'shareDate': data.data.result.shareDate
              }
              $.shareDate = data.data.result.shareDate;
              $.log(`shareDate: ${$.shareDate}`)
              // console.log(helpInfo)
              for(let task of data.data.result.taskInfos){
                if (task.type === 4) {
                  for (let i = task.doTimes; i < task.times; ++i) {
                    console.log(`å»åš${task.name}ä»»åŠ¡ ${i+1}/${task.times}`)
                    await doTask(task.type, task.jump.params.skuId)
                    await $.wait(5000)
                  }
                }
                else if (task.type === 2) {
                  for (let i = task.doTimes; i < task.times; ++i) {
                    console.log(`å»åš${task.name}ä»»åŠ¡ ${i+1}/${task.times}`)
                    await doTask(task.type, task.jump.params.shopId)
                    await $.wait(5000)
                  }
                }
                else if (task.type === 16 || task.type===3 || task.type===5 || task.type===17 || task.type===21) {
                  for (let i = task.doTimes; i < task.times; ++i) {
                    console.log(`å»åš${task.name}ä»»åŠ¡ ${i+1}/${task.times}`)
                    await doTask(task.type, task.jump.params.url)
                    await $.wait(5000)
                  }
                }
              }
            }
          }
        }
      } catch (e) {
        $.logErr(e, resp)
      } finally {
        resolve(data);
      }
    })
  })
}
async function helpFriends() {
  $.canHelp = true
  for (let code of $.newShareCodes) {
    console.log(`å»å¸®åŠ©å¥½å‹${code}`)
    await helpFriend(code)
    if(!$.canHelp) break
    await $.wait(1000)
  }
  // if (helpAuthor && $.authorCode) {
  //   for(let helpInfo of $.authorCode){
  //     console.log(`å»å¸®åŠ©å¥½å‹${helpInfo['inviteCode']}`)
  //     await helpFriend(helpInfo)
  //     if(!$.canHelp) break
  //     await $.wait(1000)
  //   }
  // }
}
function helpFriend(helpInfo) {
  return new Promise((resolve) => {
    $.get(taskUrl("cash_mob_assist", {...helpInfo,"source":1}), (err, resp, data) => {
      try {
        if (err) {
          console.log(`${JSON.stringify(err)}`)
          console.log(`${$.name} APIè¯·æ±‚å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘è·¯é‡è¯•`)
        } else {
          if (safeGet(data)) {
            data = JSON.parse(data);
            if( data.code === 0 && data.data.bizCode === 0){
              console.log(`åŠ©åŠ›æˆåŠŸï¼Œè·å¾—${data.data.result.cashStr}`)
              // console.log(data.data.result.taskInfos)
            } else if (data.data.bizCode===207){
              console.log(data.data.bizMsg)
              $.canHelp = false
            } else{
              console.log(data.data.bizMsg)
            }
          }
        }
      } catch (e) {
        $.logErr(e, resp)
      } finally {
        resolve(data);
      }
    })
  })
}
function doTask(type,taskInfo) {
  return new Promise((resolve) => {
    $.get(taskUrl("cash_doTask",{"type":type,"taskInfo":taskInfo}), (err, resp, data) => {
      try {
        if (err) {
          console.log(`${JSON.stringify(err)}`)
          console.log(`${$.name} APIè¯·æ±‚å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘è·¯é‡è¯•`)
        } else {
          if (safeGet(data)) {
            data = JSON.parse(data);
            if( data.code === 0){
              console.log(`ä»»åŠ¡å®ŒæˆæˆåŠŸ`)
              // console.log(data.data.result.taskInfos)
            }else{
              console.log(data)
            }
          }
        }
      } catch (e) {
        $.logErr(e, resp)
      } finally {
        resolve(data);
      }
    })
  })
}
function getReward() {
  return new Promise((resolve) => {
    $.get(taskUrl("cash_mob_reward",{"source":1,"rewardNode":""}), (err, resp, data) => {
      try {
        if (err) {
          console.log(`${JSON.stringify(err)}`)
          console.log(`${$.name} APIè¯·æ±‚å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘è·¯é‡è¯•`)
        } else {
          if (safeGet(data)) {
            data = JSON.parse(data);
            if( data.code === 0 && data.data.bizCode === 0 ){
              console.log(`é¢†å¥–æˆåŠŸï¼Œ${data.data.result.shareRewardTip}ã€${data.data.result.shareRewardAmount}ã€‘`)
              // console.log(data.data.result.taskInfos)
            }else{
              console.log(`é¢†å¥–å¤±è´¥ï¼Œ${data.data.bizMsg}`)
            }
          }
        }
      } catch (e) {
        $.logErr(e, resp)
      } finally {
        resolve(data);
      }
    })
  })
}

function showMsg() {
  return new Promise(resolve => {
    if (!jdNotify) {
      $.msg($.name, '', `${message}`);
    } else {
      $.log(`äº¬ä¸œè´¦å·${$.index}${$.nickName}\n${message}`);
    }
    resolve()
  })
}
getArrRandomly = (arr) => {
    var len = arr.length;
    for (var i = len - 1; i >= 0; i--) {
      var randomIndex = Math.floor(Math.random() * (i + 1));
      var itemIndex = arr[randomIndex];
      arr[randomIndex] = arr[i];
      arr[i] = itemIndex;
    }
    return arr;
  }
  
 
  getRandomArr = (arr=[],num) => {
    const tmpArr = getArrRandomly(arr);
    let arrList = [];
    for (let i = 0; i < num; i++) {
      arrList.push(tmpArr[i]);
    };
    return arrList;
  }


function readShareCode() {
  console.log(`å¼€å§‹è¯»å–æœ±ä¸½å¨œã€‚ã€‚ã€‚`)
  return new Promise(async resolve => {
    $.get({url: `https://raw.githubusercontent.com/jd1994527314/iosrule/cs/JD_TG/AS.json`, 'timeout': 10000}, (err, resp, data) => {
      try {
        if (err) {
          console.log(`${JSON.stringify(err)}`)
          console.log(`${$.name} APIè¯·æ±‚å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘è·¯é‡è¯•`)
        } else {
          if (data) {
            console.log(`éšæœºå–${randomCount}ä¸ªç æ”¾åˆ°æ‚¨å›ºå®šçš„äº’åŠ©ç åé¢(ä¸å½±å“å·²æœ‰å›ºå®šäº’åŠ©)`)
            data = JSON.parse(data);
          }
        }
      } catch (e) {
        $.logErr(e, resp)
      } finally {
        resolve(data);
      }
    })
    await $.wait(10000);
    resolve()
  })
}
//æ ¼å¼åŒ–åŠ©åŠ›ç 
function shareCodesFormat() {
  return new Promise(async resolve => {
    // console.log(`ç¬¬${$.index}ä¸ªäº¬ä¸œè´¦å·çš„åŠ©åŠ›ç :::${$.shareCodesArr[$.index - 1]}`)
    $.newShareCodes = [];
    
    const readShareCodeRes = await readShareCode();
    
    if (readShareCodeRes && readShareCodeRes.code === 200) {
$.newShareCodes = [...new Set([...$.newShareCodes, ...(getRandomArr(getArrRandomly(readShareCodeRes.data),randomCount)|| [])])];
    }
    
    console.log(`ç¬¬${$.index}ä¸ªäº¬ä¸œè´¦å·å°†è¦åŠ©åŠ›çš„å¥½å‹${JSON.stringify($.newShareCodes)}`)





    resolve();
  })
}

function requireConfig() {
  return new Promise(resolve => {
    console.log(`å¼€å§‹è·å–${$.name}é…ç½®æ–‡ä»¶\n`);
    let shareCodes = [];
    if ($.isNode()) {
      if (process.env.JD_CASH_SHARECODES) {
        if (process.env.JD_CASH_SHARECODES.indexOf('\n') > -1) {
          shareCodes = process.env.JD_CASH_SHARECODES.split('\n');
        } else {
          shareCodes = process.env.JD_CASH_SHARECODES.split('&');
        }
      }
    }
    console.log(`å…±${cookiesArr.length}ä¸ªäº¬ä¸œè´¦å·\n`);
    $.shareCodesArr = [];
    if ($.isNode()) {
      Object.keys(shareCodes).forEach((item) => {
        if (shareCodes[item]) {
          $.shareCodesArr.push(shareCodes[item])
        }
      })
    }
    console.log(`æ‚¨æä¾›äº†${$.shareCodesArr.length}ä¸ªè´¦å·çš„${$.name}åŠ©åŠ›ç \n`);
    resolve()
  })
}
function deepCopy(obj) {
  let objClone = Array.isArray(obj) ? [] : {};
  if (obj && typeof obj === "object") {
    for (let key in obj) {
      if (obj.hasOwnProperty(key)) {
        //åˆ¤æ–­ojbå­å…ƒç´ æ˜¯å¦ä¸ºå¯¹è±¡ï¼Œå¦‚æœæ˜¯ï¼Œé€’å½’å¤åˆ¶
        if (obj[key] && typeof obj[key] === "object") {
          objClone[key] = deepCopy(obj[key]);
        } else {
          //å¦‚æœä¸æ˜¯ï¼Œç®€å•å¤åˆ¶
          objClone[key] = obj[key];
        }
      }
    }
  }
  return objClone;
}
function taskUrl(functionId, body = {}) {
  return {
    url: `${JD_API_HOST}?functionId=${functionId}&body=${escape(JSON.stringify(body))}&appid=CashRewardMiniH5Env&appid=9.1.0`,
    headers: {
      'Cookie': cookie,
      'Host': 'api.m.jd.com',
      'Connection': 'keep-alive',
      'Content-Type': 'application/json',
      'Referer': 'http://wq.jd.com/wxapp/pages/hd-interaction/index/index',
      'User-Agent': $.isNode() ? (process.env.JD_USER_AGENT ? process.env.JD_USER_AGENT : (require('./USER_AGENTS').USER_AGENT)) : ($.getdata('JDUA') ? $.getdata('JDUA') : "jdapp;iPhone;9.2.2;14.2;%E4%BA%AC%E4%B8%9C/9.2.2 CFNetwork/1206 Darwin/20.1.0"),
      'Accept-Language': 'zh-cn',
      'Accept-Encoding': 'gzip, deflate, br',
    }
  }
}

function getAuthorShareCode() {
  return new Promise(resolve => {
    $.get({url: "https://raw.githubusercontent.com/nbzongzong/updateTeam/master/jd_cash.json",headers:{
        "User-Agent": "Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1 Edg/87.0.4280.88"
      }}, async (err, resp, data) => {
      $.authorCode = [];
      try {
        if (err) {
        } else {
          $.authorCode = JSON.parse(data)
        }
      } catch (e) {
        $.logErr(e, resp)
      } finally {
        resolve();
      }
    })
  })
}
function TotalBean() {
  return new Promise(async resolve => {
    const options = {
      "url": `https://wq.jd.com/user/info/QueryJDUserInfo?sceneval=2`,
      "headers": {
        "Accept": "application/json,text/plain, */*",
        "Content-Type": "application/x-www-form-urlencoded",
        "Accept-Encoding": "gzip, deflate, br",
        "Accept-Language": "zh-cn",
        "Connection": "keep-alive",
        "Cookie": cookie,
        "Referer": "https://wqs.jd.com/my/jingdou/my.shtml?sceneval=2",
        "User-Agent": $.isNode() ? (process.env.JD_USER_AGENT ? process.env.JD_USER_AGENT : (require('./USER_AGENTS').USER_AGENT)) : ($.getdata('JDUA') ? $.getdata('JDUA') : "jdapp;iPhone;9.2.2;14.2;%E4%BA%AC%E4%B8%9C/9.2.2 CFNetwork/1206 Darwin/20.1.0")
      }
    }
    $.post(options, (err, resp, data) => {
      try {
        if (err) {
          console.log(`${JSON.stringify(err)}`)
          console.log(`${$.name} APIè¯·æ±‚å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘è·¯é‡è¯•`)
        } else {
          if (data) {
            data = JSON.parse(data);
            if (data['retcode'] === 13) {
              $.isLogin = false; //cookieè¿‡æœŸ
              return
            }
            $.nickName = data['base'].nickname;
          } else {
            console.log(`äº¬ä¸œæœåŠ¡å™¨è¿”å›ç©ºæ•°æ®`)
          }
        }
      } catch (e) {
        $.logErr(e, resp)
      } finally {
        resolve();
      }
    })
  })
}
function safeGet(data) {
  try {
    if (typeof JSON.parse(data) == "object") {
      return true;
    }
  } catch (e) {
    console.log(e);
    console.log(`äº¬ä¸œæœåŠ¡å™¨è®¿é—®æ•°æ®ä¸ºç©ºï¼Œè¯·æ£€æŸ¥è‡ªèº«è®¾å¤‡ç½‘ç»œæƒ…å†µ`);
    return false;
  }
}
function jsonParse(str) {
  if (typeof str == "string") {
    try {
      return JSON.parse(str);
    } catch (e) {
      console.log(e);
      $.msg($.name, '', 'è¯·å‹¿éšæ„åœ¨BoxJsè¾“å…¥æ¡†ä¿®æ”¹å†…å®¹\nå»ºè®®é€šè¿‡è„šæœ¬å»è·å–cookie')
      return [];
    }
  }
}
// prettier-ignore
function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`ğŸ””${this.name}, å¼€å§‹!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============ğŸ“£ç³»ç»Ÿé€šçŸ¥ğŸ“£=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`â—ï¸${this.name}, é”™è¯¯!`,t.stack):this.log("",`â—ï¸${this.name}, é”™è¯¯!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`ğŸ””${this.name}, ç»“æŸ! ğŸ•› ${s} ç§’`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
